{
  "info": {
    "_postman_id": "chat-storage-collection-001",
    "name": "Chat Storage API Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Postman collection for testing Chat Storage microservice APIs."
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" }
        ],
        "url": {
          "raw": "http://localhost:8080/health",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["health"]
        }
      }
    },
    {
      "name": "Create Chat Session",
      "request": {
        "method": "POST",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"name\": \"{{name}}\",\n  \"favorite\": false\n}"
        },
        "url": {
          "raw": "http://localhost:8080/sessions",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["sessions"]
        }
      }
    },
    {
      "name": "Get Chat Sessions",
      "request": {
        "method": "GET",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" }
        ],
        "url": {
          "raw": "http://localhost:8080/sessions?userId={{userId}}&favorite={{favorite}}",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["sessions"],
          "query": [
            { "key": "userId", "value": "{{userId}}" },
            { "key": "favorite", "value": "{{favorite}}", "disabled": true }
          ]
        }
      }
    },
    {
      "name": "Rename Chat Session",
      "request": {
        "method": "PATCH",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" }
        ],
        "url": {
          "raw": "http://localhost:8080/sessions/{{id}}/rename?name={{name}}",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["sessions", "{{id}}", "rename"],
          "query": [
            { "key": "name", "value": "{{name}}" }
          ]
        }
      }
    },
    {
      "name": "Set Session Favorite",
      "request": {
        "method": "PATCH",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" }
        ],
        "url": {
          "raw": "http://localhost:8080/sessions/{{id}}/favorite?favorite={{favorite}}",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["sessions", "{{id}}", "favorite"],
          "query": [
            { "key": "favorite", "value": "{{favorite}}" }
          ]
        }
      }
    },
    {
      "name": "Delete Chat Session",
      "request": {
        "method": "DELETE",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" }
        ],
        "url": {
          "raw": "http://localhost:8080/sessions/{{id}}",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["sessions", "{{id}}"]
        }
      }
    },
    {
      "name": "Add Chat Message",
      "request": {
        "method": "POST",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"sender\": \"{{sender}}\",\n  \"content\": \"{{content}}\",\n  \"context\": \"{{context}}\",\n  \"session\": { \"id\": {{sessionId}} }\n}"
        },
        "url": {
          "raw": "http://localhost:8080/sessions/{{sessionId}}/messages",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["sessions", "{{sessionId}}", "messages"]
        }
      }
    },
    {
      "name": "Get Chat Messages",
      "request": {
        "method": "GET",
        "header": [
          { "key": "X-API-KEY", "value": "your-secure-api-key", "type": "text" }
        ],
        "url": {
          "raw": "http://localhost:8080/sessions/{{sessionId}}/messages?page={{page}}&size={{size}}",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["sessions", "{{sessionId}}", "messages"],
          "query": [
            { "key": "page", "value": "{{page}}", "disabled": true },
            { "key": "size", "value": "{{size}}", "disabled": true }
          ]
        }
      }
    }
  ]
}
